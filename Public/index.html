<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PriceWise</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Della+Respira&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Della+Respira&family=Karoll&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="output.css">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
</head>
<body class="bg-surface flex items-center justify-center min-h-screen p-8">

    <div id="vanta-bg" class="fixed top-0 left-0 w-full h-full -z-10"></div>

    <main class="w-full max-w-6xl mt-16">
        <div class="bg-container p-6 md:p-10 rounded-2xl shadow-lg">

            <header class="text-center mb-10">
                <h1 class="text-6xl font-bold font-della text-text-primary mb-2">MarketWatch</h1>
                <p class="text-lg font-karoll text-text-secondary">Enter a product to compare prices on Amazon and Flipkart.</p>
            </header>

            <form id="compare-form" class="flex flex-col md:flex-row md:items-end gap-3">

                <div class="w-full md:flex-[8_1_0]">
                    <label for="product-name" class="block text-sm font-semibold font-karoll text-text-secondary mb-2">Product Name</label>
                    <input type="text" id="product-name" placeholder="e.g., iPhone 15 Pro" required class="w-full px-4 py-3 text-base text-text-primary border border-border-light rounded-xl bg-surface transition focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/20">
                </div>

                <div class="w-full md:flex-[1_1_0]">
                    <label for="num-pages" class="block text-sm font-semibold font-karoll text-text-secondary mb-2">Pages</label>
                    <input type="number" id="num-pages" value="1" min="1" max="5" required class="w-full px-4 py-3 text-base text-text-primary border border-border-light rounded-xl bg-surface transition focus:outline-none focus:border-primary focus:ring-4 focus:ring-primary/20">
                </div>

                <button type="submit" id="compare-btn" class="w-full md:flex-[1_1_0] py-3 px-4 text-base font-semibold font-karoll text-white bg-primary rounded-xl cursor-pointer transition hover:bg-primary-hover active:scale-[.98] disabled:bg-slate-400 disabled:cursor-not-allowed">
                    Compare
                </button>
                
            </form>

            <div class="my-8 pt-8 border-t border-border-muted">
                <h3 class="text-base font-semibold font-karoll text-text-secondary mb-4 text-center">Popular Searches</h3>
                <div id="popular-searches-container" class="flex flex-wrap justify-center gap-2.5">
                    <button class="popular-search-btn px-4 py-2 text-sm bg-container border border-border-light rounded-full cursor-pointer transition-all text-text-secondary hover:bg-primary hover:text-white hover:border-primary">iPhone 15</button>
                    <button class="popular-search-btn px-4 py-2 text-sm bg-container border border-border-light rounded-full cursor-pointer transition-all text-text-secondary hover:bg-primary hover:text-white hover:border-primary">mascara</button>
                    <button class="popular-search-btn px-4 py-2 text-sm bg-container border border-border-light rounded-full cursor-pointer transition-all text-text-secondary hover:bg-primary hover:text-white hover:border-primary">Samsung Galaxy S24</button>
                    <button class="popular-search-btn px-4 py-2 text-sm bg-container border border-border-light rounded-full cursor-pointer transition-all text-text-secondary hover:bg-primary hover:text-white hover:border-primary">iphone 16 pro</button>
                </div>
            </div>
            
            <div class="mt-10 rounded-xl bg-container border border-border-muted">
                <div class="flex justify-between items-center p-5">
                    <h2 class="text-xl font-semibold font-karoll text-text-primary">Status</h2>
                    <div id="cache-info" class="hidden items-center gap-4 text-sm text-text-secondary">
                        <span>Cached: <b id="cache-date" class="text-text-primary"></b></span>
                        <button id="refresh-btn" class="text-xs font-semibold px-3.5 py-2 bg-container border border-border-light text-text-primary rounded-md cursor-pointer transition-all hover:bg-primary hover:text-white hover:border-primary">
                            Refresh Now
                        </button>
                    </div>
                </div>
                <div id="status-display" class="flex items-center p-5 bg-surface border-t border-border-muted transition-colors duration-300 rounded-b-xl">
                    <span id="status-icon" class="text-xl mr-3"></span>
                    <span id="status-text" class="font-medium text-text-secondary">Awaiting comparison...</span>
                    <div id="loader" class="hidden border-4 border-gray-200 border-t-primary rounded-full w-5 h-5 animate-spin ml-3"></div>
                </div>
            </div>

            <div id="results-header" class="hidden mt-12 pb-5 border-b border-border-muted">
                <h2 class="text-xl font-semibold text-text-primary">Comparison Results</h2>
            </div>
            <div id="results-grid" class="grid grid-cols-1 mt-10"></div>
        </div>
    </main>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanta/0.5.24/vanta.waves.min.js"></script>
    <script src="script.js"></script>
</body>
</html>